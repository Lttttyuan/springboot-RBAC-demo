"use strict";(self["webpackChunkspringboot_vue_view"]=self["webpackChunkspringboot_vue_view"]||[]).push([[275],{3275:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=a(3396);const s={style:{padding:"10px"}},o={style:{margin:"10px 0"}},i={class:"dialog-footer"};function d(e,t,a,d,n,r){const g=(0,l.up)("el-table-column"),h=(0,l.up)("el-button"),m=(0,l.up)("el-popconfirm"),u=(0,l.up)("el-table"),c=(0,l.up)("el-input"),p=(0,l.up)("el-form-item"),f=(0,l.up)("el-form"),w=(0,l.up)("el-dialog"),b=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(u,{data:n.tableData,border:"",stripe:"",style:{width:"100%"},"row-key":"id","default-expand-all":""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{prop:"name",label:"名称"}),(0,l.Wm)(g,{label:"操作"},{default:(0,l.w5)((e=>[1===n.user.role?((0,l.wg)(),(0,l.j4)(h,{key:0,size:"mini",onClick:t=>r.handleEdit(e.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"])):(0,l.kq)("",!0),1===n.user.role?((0,l.wg)(),(0,l.j4)(m,{key:1,title:"确定删除吗？",onConfirm:t=>r.handleDelete(e.row.id)},{reference:(0,l.w5)((()=>[(0,l.Wm)(h,{size:"mini",type:"danger"},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])):(0,l.kq)("",!0)])),_:1})])),_:1},8,["data"])),[[b,n.loading]]),(0,l._)("div",o,[(0,l.Wm)(w,{title:"提示",modelValue:n.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=e=>n.dialogVisible=e),width:"30%"},{footer:(0,l.w5)((()=>[(0,l._)("span",i,[(0,l.Wm)(h,{onClick:t[1]||(t[1]=e=>n.dialogVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取 消")])),_:1}),(0,l.Wm)(h,{type:"primary",onClick:r.save},{default:(0,l.w5)((()=>[(0,l.Uk)("确 定")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(f,{model:n.form,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{label:"名称"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:n.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.name=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])])}var n=a(60),r={name:"Category",components:{},data(){return{user:{},loading:!0,form:{},dialogVisible:!1,search:"",currentPage:1,pageSize:10,total:0,tableData:[],casdata:["Anhui","Hefei","Zhengwu"],defaultProps:{children:"children",label:"name"},checkedList:[],options:[]}},created(){let e=sessionStorage.getItem("userInfo")||"{}";this.user=JSON.parse(e),n.Z.get("/user/findId/"+this.user.id).then((e=>{"0"===e.code&&(this.user=e.data)})),this.load()},methods:{changeCas(e){console.log(e),console.log(this.casdata)},remove(e,t){n.Z.delete("/category/"+t.id).then((e=>{this.load()}))},handleCheckChange(e,t,a){console.log(e.id),console.log(e.name)},load(){this.loading=!0,n.Z.get("/category").then((e=>{this.loading=!1,this.tableData=e.data;let t=[4];this.checkedList=t}))},add(){this.dialogVisible=!0,this.form={}},save(){this.form.id?n.Z.put("/category",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"更新成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})):n.Z.post("/category",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"新增成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete(e){console.log(e),n.Z.delete("/category/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}},g=a(89);const h=(0,g.Z)(r,[["render",d]]);var m=h}}]);
//# sourceMappingURL=275.0011b7d8.js.map