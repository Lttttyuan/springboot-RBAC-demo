{"version":3,"file":"js/275.0011b7d8.js","mappings":"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","sources":["webpack://springboot-vue-view/./src/views/Category.vue","webpack://springboot-vue-view/./src/views/Category.vue?0801"],"sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <!--    功能区域-->\r\n    <!--    <div style=\"margin: 10px 0\">-->\r\n    <!--      <el-button type=\"primary\" @click=\"add\" v-if=\"user.role === 1\">新增</el-button>-->\r\n    <!--    </div>-->\r\n\r\n    <!--    搜索区域-->\r\n    <!--    <div style=\"margin: 10px 0\">-->\r\n    <!--      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\" clearable></el-input>-->\r\n    <!--      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">查询</el-button>-->\r\n    <!--    </div>-->\r\n    <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"tableData\"\r\n        border\r\n        stripe\r\n        style=\"width: 100%\"\r\n        row-key=\"id\"\r\n        default-expand-all\r\n    >\r\n      <!--      <el-table-column-->\r\n      <!--          prop=\"id\"-->\r\n      <!--          label=\"ID\"-->\r\n      <!--          sortable-->\r\n      <!--      >-->\r\n      <!--      </el-table-column>-->\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"名称\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" v-if=\"user.role === 1\">编辑</el-button>\r\n          <el-popconfirm title=\"确定删除吗？\" @confirm=\"handleDelete(scope.row.id)\" v-if=\"user.role === 1\">\r\n            <template #reference>\r\n              <el-button size=\"mini\" type=\"danger\">删除</el-button>\r\n            </template>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n<!--    <el-card style=\"margin: 10px 0; width: 50%\">-->\r\n<!--      <div class=\"custom-tree-container\">-->\r\n<!--        <el-tree :data=\"tableData\" :props=\"defaultProps\" show-checkbox-->\r\n<!--                 @check-change=\"handleCheckChange\"-->\r\n<!--                 node-key=\"id\"-->\r\n<!--                 :default-expanded-keys=\"[1, 2]\"-->\r\n<!--                 :default-checked-keys=\"checkedList\"-->\r\n<!--        >-->\r\n<!--          <template #default=\"{ node, data }\">-->\r\n<!--        <span class=\"custom-tree-node\">-->\r\n<!--          <span>{{ node.label }}</span>-->\r\n<!--          <span>-->\r\n<!--            <a @click=\"remove(node, data)\">Delete</a>-->\r\n<!--          </span>-->\r\n<!--        </span>-->\r\n<!--          </template>-->\r\n<!--        </el-tree>-->\r\n<!--      </div>-->\r\n<!--    </el-card>-->\r\n\r\n<!--    <el-card style=\"width: 50%\">-->\r\n<!--      <el-cascader :options=\"options\" clearable @change=\"changeCas\" v-model=\"casdata\"></el-cascader>-->\r\n<!--    </el-card>-->\r\n\r\n    <div style=\"margin: 10px 0\">\r\n      <el-dialog title=\"提示\" v-model=\"dialogVisible\" width=\"30%\">\r\n        <el-form :model=\"form\" label-width=\"120px\">\r\n          <el-form-item label=\"名称\">\r\n            <el-input v-model=\"form.name\" style=\"width: 80%\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: 'Category',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      user: {},\r\n      loading: true,\r\n      form: {},\r\n      dialogVisible: false,\r\n      search: '',\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      tableData: [],\r\n      casdata: ['Anhui', 'Hefei', 'Zhengwu'],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      checkedList: [],\r\n      options: []\r\n    }\r\n  },\r\n  created() {\r\n    let userStr = sessionStorage.getItem(\"userInfo\") || \"{}\"\r\n    this.user = JSON.parse(userStr)\r\n    // 请求服务端，确认当前登录用户的 合法信息\r\n    request.get(\"/user/findId/\" + this.user.id).then(res => {\r\n      if (res.code === '0') {\r\n        this.user = res.data\r\n      }\r\n    })\r\n\r\n    // request.get(\"/area/tree\").then(res => {\r\n    //   console.log(res.data)\r\n    //   this.options = res.data\r\n    // })\r\n\r\n    this.load()\r\n  },\r\n  methods: {\r\n    changeCas(data) {\r\n      console.log(data)\r\n      console.log(this.casdata)\r\n    },\r\n    remove(node, data) {\r\n      request.delete(\"/category/\" + data.id).then(res => {\r\n        this.load()\r\n      })\r\n      // console.log(data)\r\n      // const parent = node.parent;\r\n      // const children = parent.data.children || parent.data;\r\n      // const index = children.findIndex(d => d.id === data.id);\r\n      // children.splice(index, 1);\r\n      // this.data = [...this.data]\r\n    },\r\n    handleCheckChange(data, checked, indeterminate) {\r\n      console.log(data.id);\r\n      console.log(data.name);\r\n    },\r\n    load() {\r\n      this.loading = true\r\n      request.get(\"/category\").then(res => {\r\n        this.loading = false\r\n        this.tableData = res.data\r\n\r\n        // 赋值选中的节点\r\n        let checkedData = [4];\r\n        this.checkedList = checkedData\r\n      })\r\n\r\n    },\r\n    add() {\r\n      this.dialogVisible = true\r\n      this.form = {}\r\n    },\r\n    save() {\r\n      if (this.form.id) {  // 更新\r\n        request.put(\"/category\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"更新成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      } else {  // 新增\r\n        request.post(\"/category\", this.form).then(res => {\r\n          console.log(res)\r\n          if (res.code === '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"新增成功\"\r\n            })\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n\r\n          this.load() // 刷新表格的数据\r\n          this.dialogVisible = false  // 关闭弹窗\r\n        })\r\n      }\r\n    },\r\n    handleEdit(row) {\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n\r\n    },\r\n    handleDelete(id) {\r\n      console.log(id)\r\n      request.delete(\"/category/\" + id).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n        this.load()  // 删除之后重新加载表格的数据\r\n      })\r\n    },\r\n    handleSizeChange(pageSize) {   // 改变当前每页的个数触发\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {  // 改变当前页码触发\r\n      this.currentPage = pageNum\r\n      this.load()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.custom-tree-node {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 14px;\r\n  padding-right: 8px;\r\n}\r\n</style>\r\n","import { render } from \"./Category.vue?vue&type=template&id=4ae28ffc\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\n\nimport \"./Category.vue?vue&type=style&index=0&id=4ae28ffc&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","class","_createElementBlock","_hoisted_1","_createBlock","_component_el_table","data","$data","tableData","border","stripe","_createVNode","_component_el_table_column","prop","label","default","_withCtx","scope","user","role","_component_el_button","size","onClick","$event","$options","handleEdit","row","_component_el_popconfirm","title","onConfirm","handleDelete","id","reference","type","loading","_createElementVNode","_hoisted_2","_component_el_dialog","dialogVisible","width","footer","_hoisted_3","_cache","save","_component_el_form","model","form","_component_el_form_item","_component_el_input","name","components","search","currentPage","pageSize","total","casdata","defaultProps","children","checkedList","options","created","userStr","sessionStorage","getItem","this","JSON","parse","request","get","then","res","code","load","methods","changeCas","console","log","remove","node","delete","handleCheckChange","checked","indeterminate","checkedData","add","put","$message","message","msg","post","stringify","handleSizeChange","handleCurrentChange","pageNum","__exports__","render"],"sourceRoot":""}