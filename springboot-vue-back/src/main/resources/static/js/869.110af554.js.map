{"version":3,"file":"js/869.110af554.js","mappings":"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","sources":["webpack://springboot-vue-view/./src/components/ValidCode.vue","webpack://springboot-vue-view/./src/components/ValidCode.vue?34c0","webpack://springboot-vue-view/./src/layout/Layout.vue","webpack://springboot-vue-view/./src/components/Header.vue","webpack://springboot-vue-view/./src/components/Header.vue?801b","webpack://springboot-vue-view/./src/components/Aside.vue","webpack://springboot-vue-view/./src/components/Aside.vue?0d94","webpack://springboot-vue-view/./src/layout/Layout.vue?f225","webpack://springboot-vue-view/./src/views/Login.vue","webpack://springboot-vue-view/./src/router/permission.js","webpack://springboot-vue-view/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div\r\n      class=\"ValidCode disabled-select\"\r\n      :style=\"`width:${width}; height:${height}`\"\r\n      @click=\"refreshCode\"\r\n  >\r\n    <span\r\n        v-for=\"(item, index) in codeList\"\r\n        :key=\"index\"\r\n        :style=\"getStyle(item)\"\r\n    >{{ item.code }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ValidCode',\r\n  model: {\r\n    prop: 'value',\r\n    event: 'input'\r\n  },\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: '100px'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '40px'\r\n    },\r\n    length: {\r\n      type: Number,\r\n      default: 4\r\n    },\r\n    refresh: {\r\n      type: Number\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      codeList: []\r\n    }\r\n  },\r\n  watch: {\r\n    refresh () {\r\n      this.createdCode()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.createdCode()\r\n  },\r\n  methods: {\r\n    refreshCode () {\r\n      this.createdCode()\r\n    },\r\n    createdCode () {\r\n      const len = this.length\r\n      const codeList = []\r\n      const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789'\r\n      const charsLen = chars.length\r\n      // 生成\r\n      for (let i = 0; i < len; i++) {\r\n        const rgb = [Math.round(Math.random() * 220), Math.round(Math.random() * 240), Math.round(Math.random() * 200)]\r\n        codeList.push({\r\n          code: chars.charAt(Math.floor(Math.random() * charsLen)),\r\n          color: `rgb(${rgb})`,\r\n          fontSize: `${10 + (+[Math.floor(Math.random() * 10)] + 6)}px`,\r\n          padding: `${[Math.floor(Math.random() * 10)]}px`,\r\n          transform: `rotate(${Math.floor(Math.random() * 90) - Math.floor(Math.random() * 90)}deg)`\r\n        })\r\n      }\r\n      // 指向\r\n      this.codeList = codeList\r\n      // 将当前数据派发出去\r\n      console.log(codeList.map(item => item.code).join(''))\r\n      this.$emit('input', codeList.map(item => item.code).join(''))\r\n    },\r\n    getStyle (data) {\r\n      return `color: ${data.color}; font-size: ${data.fontSize}; padding: ${data.padding}; transform: ${data.transform}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.ValidCode{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n.ValidCode span{\r\n  display: inline-block;\r\n}\r\n</style>\r\n","import { render } from \"./ValidCode.vue?vue&type=template&id=e175a8ac&scoped=true\"\nimport script from \"./ValidCode.vue?vue&type=script&lang=js\"\nexport * from \"./ValidCode.vue?vue&type=script&lang=js\"\n\nimport \"./ValidCode.vue?vue&type=style&index=0&id=e175a8ac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e175a8ac\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!--    头部-->\r\n    <Header/>\r\n    <!--    主体-->\r\n    <div style=\"display: flex\">\r\n      <!--      侧边栏-->\r\n      <Aside/>\r\n      <!--      内容区-->\r\n      <router-view style=\"flex: 1\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/Header\";\r\nimport Aside from \"@/components/Aside\";\r\n\r\nexport default {\r\n  name: \"Layout\",\r\n  components:{\r\n    Header,\r\n    Aside\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <div style=\"height: 50px;line-height: 50px;border-bottom: 1px solid #ccc;display: flex\">\r\n    <div style=\"width: 200px;padding-left: 30px;font-weight: bold;color: deepskyblue\" @click=\"$router.push('/user')\">后台管理</div>\r\n    <div style=\"flex: 1\"></div>\r\n\r\n    <!--    登录退出-->\r\n    <div style=\"width: 100px\">\r\n      <el-dropdown>\r\n        <span class=\"el-dropdown-link\" style=\"margin-top: 15px;outline: none\">\r\n          {{ username }}<el-icon class=\"el-icon--right\"><arrow-down/></el-icon>\r\n        </span>\r\n        <template #dropdown>\r\n          <el-dropdown-menu>\r\n<!--            <el-dropdown-item @click=\"$router.push('/person')\">个人信息</el-dropdown-item>-->\r\n            <el-dropdown-item @click=\"exit\">退出系统</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </template>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n  name: \"Header\",\r\n  data(){\r\n    return{\r\n      username: JSON.parse(sessionStorage.getItem(\"userInfo\")).username //获取登录时的用户名\r\n    }\r\n  },\r\n  methods:{\r\n    exit(){\r\n      router.push('/login')\r\n      sessionStorage.removeItem(\"userInfo\")\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Header.vue?vue&type=template&id=db4c5f06\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <el-menu\r\n        style=\"min-height: calc(100vh - 50px)\"\r\n        :default-active=\"this.$route.path\"\r\n        router\r\n        class=\"el-menu-vertical-demo\"\r\n    >\r\n\r\n      <el-menu-item :index=\"menu.permissionPath\" v-for=\"menu in user.permissions\" :key=\"menu.pid\">\r\n        <template #title>\r\n          <el-icon :size=\"20\">\r\n            <component :is=\"menu.icon\" />\r\n          </el-icon>\r\n          <span>{{menu.permissionComment}}</span>\r\n        </template>\r\n      </el-menu-item>\r\n\r\n    </el-menu>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"Aside\",\r\n  data(){\r\n    return{\r\n      user:{}\r\n    }\r\n  },\r\n  created() {\r\n    let userStr = sessionStorage.getItem(\"userInfo\") || \"{}\"\r\n    this.user = JSON.parse(userStr)\r\n\r\n    // 请求服务器，确认当前登录用户的合法信息\r\n    // request.get(\"/user/findId/\" + this.user.id).then(res =>{\r\n    //   if (res.code === '0'){\r\n    //     this.user = res.data\r\n    //   }\r\n    // })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Aside.vue?vue&type=template&id=c43e1dce\"\nimport script from \"./Aside.vue?vue&type=script&lang=js\"\nexport * from \"./Aside.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Layout.vue?vue&type=template&id=9e5541a2\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"logincontent\" @touchmove.prevent @mousewheel.prevent>\r\n    <el-tabs type=\"border-card\">\r\n      <el-tab-pane label=\"登录\">\r\n        <el-form ref=\"from\" :model=\"form\" label-position=\"right\" label-width=\"85px\" style=\"max-width: 460px\"\r\n                 class=\"loginForm\"   :rules=\"rules\" :hide-required-asterisk=\"true\">\r\n          <el-form-item label=\"用户名：\" prop=\"username\">\r\n            <el-input :prefix-icon=\"Avatar\" v-model=\"form.username\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码：\" prop=\"password\">\r\n            <el-input :prefix-icon=\"Lock\" type=\"password\" v-model=\"form.password\" show-password/>\r\n          </el-form-item>\r\n\r\n          <!--          验证码功能-->\r\n          <el-form-item label=\"验证码：\">\r\n            <div style=\"display: flex\">\r\n              <el-input v-model=\"form.validCode\" style=\"width: 50%\" placeholder=\"请输入验证码：\"/>\r\n              <ValidCode @input=\"createValidcode\"/>\r\n            </div>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div style=\"margin-left: 60px;display: flex\">\r\n          <el-button type=\"primary\" style=\"width: 40%\" @click=\"login\">登录</el-button>\r\n          <el-button type=\"primary\" style=\"width: 40%\" @click=\"this.$router.push('/register')\">前往注册</el-button>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nimport {Avatar, Lock} from \"@element-plus/icons-vue\";\r\nimport request from \"@/utils/request\";\r\nimport router from \"@/router/index\";\r\nimport ValidCode from \"@/components/ValidCode\";\r\nimport {activeRouter} from \"@/router/permission\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {ValidCode},\r\n  data() {\r\n    return {\r\n      form: {},\r\n      rules: {\r\n        username: [\r\n          {required: true, message: '请输入用户名', trigger: 'blur'},\r\n        ],\r\n        password: [\r\n          {required: true, message: '请输入密码', trigger: 'blur'},\r\n        ]\r\n      },\r\n      validCode:''\r\n    }\r\n  },\r\n  //图标\r\n  setup() {\r\n    return {\r\n      Avatar,\r\n      Lock\r\n    }\r\n  },\r\n  created() {\r\n    sessionStorage.removeItem(\"userInfo\")\r\n  },\r\n  methods: {\r\n    //接收验证码组件提交的四位验证码\r\n    createValidcode(data){\r\n      this.validCode = data\r\n    },\r\n    login() {\r\n      this.$refs.from.validate((valid) => {\r\n        if (!valid) {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"请输入用户名和密码!\"\r\n          })\r\n          return\r\n        }\r\n        // operation code\r\n        if (!this.form.validCode){\r\n          this.$message.error(\"请输入验证码!\")\r\n          return;\r\n        }\r\n        if (this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()){\r\n          this.$message.error(\"验证码错误！\")\r\n          return;\r\n        }\r\n\r\n        request.post(\"/user/login\", this.form).then(res => {\r\n          console.log(res);\r\n          if (res.code == '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"登录成功\"\r\n            })\r\n            sessionStorage.setItem(\"userInfo\",JSON.stringify(res.data)) //缓存用户信息\r\n\r\n            const permissions = res.data.permissions;\r\n            //初始化路由信息\r\n            activeRouter(permissions)\r\n\r\n            console.log(router.getRoutes())\r\n            router.push(\"/home\") //登录成功后进行页面跳转\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.layout {\r\n  position: absolute;\r\n  left: calc(50% - 200px);\r\n  top: 20%;\r\n  width: 400px;\r\n}\r\n.logincontent {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-image: url(\"../img/loginCover.jpg\");\r\n  background-size: 100% 100%;\r\n  background-attachment: fixed;\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  min-width: 900px;\r\n  min-height: 1000px;\r\n\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.loginform {\r\n  background-color: #fff;\r\n  min-width: 600px;\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 15px 30px;\r\n  padding: 30px 20px;\r\n}\r\n</style>","import router from \"@/router\";\r\nimport Layout from \"@/layout/Layout\";\r\n\r\n// 注意：这个文件是设置动态路由的\r\n// permissions是一个资源的数组\r\nexport function activeRouter(permissions) {\r\n    let root = {\r\n        path: '/',\r\n        name: 'Layout',\r\n        component: Layout,\r\n        redirect: \"/login\",\r\n        children: []\r\n    }\r\n    permissions.forEach(p => {\r\n        let obj = {\r\n            path: p.permissionPath,\r\n            name: p.permissionName,\r\n            component:() =>import('../views/' + p.permissionName)\r\n        };\r\n        root.children.push(obj)\r\n    })\r\n\r\n    if (router) {\r\n        //动态添加路由信息，重复的会被覆盖掉\r\n        router.addRoute(root)\r\n    }\r\n}","import { render } from \"./Login.vue?vue&type=template&id=e5a06454&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=e5a06454&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e5a06454\"]])\n\nexport default __exports__"],"names":["_createElementBlock","class","style","_normalizeStyle","$props","width","height","onClick","_cache","args","$options","refreshCode","_Fragment","_renderList","$data","codeList","item","index","key","getStyle","code","name","model","prop","event","props","type","String","default","length","Number","refresh","data","watch","this","createdCode","mounted","methods","len","chars","charsLen","i","rgb","Math","round","random","push","charAt","floor","color","fontSize","padding","transform","console","log","map","join","$emit","__exports__","render","_createVNode","_component_Header","_createElementVNode","_hoisted_1","_component_Aside","_component_router_view","$event","_ctx","$router","_hoisted_2","_hoisted_3","_component_el_dropdown","dropdown","_withCtx","_component_el_dropdown_menu","_component_el_dropdown_item","exit","_hoisted_4","username","_component_el_icon","_component_arrow_down","JSON","parse","sessionStorage","getItem","router","removeItem","_component_el_menu","$route","path","user","permissions","menu","_createBlock","_component_el_menu_item","permissionPath","pid","title","size","_resolveDynamicComponent","icon","_toDisplayString","permissionComment","created","userStr","components","Header","Aside","onTouchmove","_withModifiers","onMousewheel","_component_el_tabs","_component_el_tab_pane","label","_component_el_form","ref","form","rules","_component_el_form_item","_component_el_input","$setup","Avatar","Lock","password","validCode","placeholder","_component_ValidCode","onInput","createValidcode","_component_el_button","login","activeRouter","root","component","Layout","redirect","children","forEach","p","obj","permissionName","addRoute","ValidCode","required","message","trigger","setup","$refs","from","validate","valid","toLowerCase","request","post","then","res","$message","setItem","stringify","getRoutes","msg","error"],"sourceRoot":""}