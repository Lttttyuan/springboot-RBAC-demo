{"version":3,"file":"js/748.070313b2.js","mappings":"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","sources":["webpack://springboot-vue-view/./src/components/ValidCode.vue","webpack://springboot-vue-view/./src/components/ValidCode.vue?34c0","webpack://springboot-vue-view/./src/views/Register.vue","webpack://springboot-vue-view/./src/views/Register.vue?157d"],"sourcesContent":["<template>\r\n  <div\r\n      class=\"ValidCode disabled-select\"\r\n      :style=\"`width:${width}; height:${height}`\"\r\n      @click=\"refreshCode\"\r\n  >\r\n    <span\r\n        v-for=\"(item, index) in codeList\"\r\n        :key=\"index\"\r\n        :style=\"getStyle(item)\"\r\n    >{{ item.code }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ValidCode',\r\n  model: {\r\n    prop: 'value',\r\n    event: 'input'\r\n  },\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: '100px'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '40px'\r\n    },\r\n    length: {\r\n      type: Number,\r\n      default: 4\r\n    },\r\n    refresh: {\r\n      type: Number\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      codeList: []\r\n    }\r\n  },\r\n  watch: {\r\n    refresh () {\r\n      this.createdCode()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.createdCode()\r\n  },\r\n  methods: {\r\n    refreshCode () {\r\n      this.createdCode()\r\n    },\r\n    createdCode () {\r\n      const len = this.length\r\n      const codeList = []\r\n      const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789'\r\n      const charsLen = chars.length\r\n      // 生成\r\n      for (let i = 0; i < len; i++) {\r\n        const rgb = [Math.round(Math.random() * 220), Math.round(Math.random() * 240), Math.round(Math.random() * 200)]\r\n        codeList.push({\r\n          code: chars.charAt(Math.floor(Math.random() * charsLen)),\r\n          color: `rgb(${rgb})`,\r\n          fontSize: `${10 + (+[Math.floor(Math.random() * 10)] + 6)}px`,\r\n          padding: `${[Math.floor(Math.random() * 10)]}px`,\r\n          transform: `rotate(${Math.floor(Math.random() * 90) - Math.floor(Math.random() * 90)}deg)`\r\n        })\r\n      }\r\n      // 指向\r\n      this.codeList = codeList\r\n      // 将当前数据派发出去\r\n      console.log(codeList.map(item => item.code).join(''))\r\n      this.$emit('input', codeList.map(item => item.code).join(''))\r\n    },\r\n    getStyle (data) {\r\n      return `color: ${data.color}; font-size: ${data.fontSize}; padding: ${data.padding}; transform: ${data.transform}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.ValidCode{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n.ValidCode span{\r\n  display: inline-block;\r\n}\r\n</style>\r\n","import { render } from \"./ValidCode.vue?vue&type=template&id=e175a8ac&scoped=true\"\nimport script from \"./ValidCode.vue?vue&type=script&lang=js\"\nexport * from \"./ValidCode.vue?vue&type=script&lang=js\"\n\nimport \"./ValidCode.vue?vue&type=style&index=0&id=e175a8ac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e175a8ac\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"layout\">\r\n    <el-tabs type=\"border-card\">\r\n      <el-tab-pane label=\"注册\">\r\n        <el-form ref=\"from\" :model=\"form\" label-position=\"right\" label-width=\"100px\" style=\"max-width: 460px\"\r\n                 class=\"loginForm\" :rules=\"rules\" :hide-required-asterisk=\"true\">\r\n          <el-form-item label=\"用户名：\" prop=\"username\" :prefix-icon=\"Avatar\">\r\n            <el-input v-model=\"form.username\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码：\" prop=\"password\" :prefix-icon=\"Lock\">\r\n            <el-input type=\"password\" v-model=\"form.password\" show-password/>\r\n          </el-form-item>\r\n          <el-form-item label=\"确认密码：\" prop=\"password\" :prefix-icon=\"Lock\">\r\n            <el-input type=\"password\" v-model=\"form.confirm\" show-password/>\r\n          </el-form-item>\r\n\r\n          <!--          验证码功能-->\r\n          <el-form-item label=\"验证码：\">\r\n            <div style=\"display: flex\">\r\n              <el-input v-model=\"form.validCode\" style=\"width: 50%\" placeholder=\"请输入验证码：\"/>\r\n              <ValidCode @input=\"createValidcode\"/>\r\n            </div>\r\n          </el-form-item>\r\n\r\n          <div style=\"display:flex;\">\r\n            <el-button type=\"primary\" style=\"width: 50%\" @click=\"register\">注册</el-button>\r\n            <el-button type=\"primary\" style=\"width: 50%\" @click=\"this.$router.push('/login')\">取消</el-button>\r\n          </div>\r\n        </el-form>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport ValidCode from \"@/components/ValidCode\";\r\n// 一个用户图像+密码锁图标\r\nimport { Avatar, Lock } from \"@element-plus/icons-vue\";\r\nimport router from \"@/router\";\r\n\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  components: {ValidCode},\r\n  data() {\r\n    return {\r\n      form: {},\r\n      rules: {\r\n        username: [\r\n          {required: true, message: '请输入用户名', trigger: 'blur'},\r\n        ],\r\n        password: [\r\n          {required: true, message: '请输入密码', trigger: 'blur'},\r\n        ]\r\n      },\r\n      validCode:''\r\n    }\r\n  },\r\n  setup(){\r\n    return {\r\n      Avatar,\r\n      Lock\r\n    }\r\n  },\r\n  methods: {\r\n    //接收验证码组件提交的四位验证码\r\n    createValidcode(data) {\r\n      this.validCode = data\r\n    },\r\n    register() {\r\n      this.$refs.from.validate((valid) => {\r\n        if (!valid) {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"请输入用户名和密码!\"\r\n          })\r\n          return\r\n        }\r\n        // operation code\r\n        if (!this.form.validCode){\r\n          this.$message.error(\"请输入验证码!\")\r\n          return;\r\n        }\r\n        if (this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()){\r\n          this.$message.error(\"验证码错误！\")\r\n          return;\r\n        }\r\n      this.form.role = '普通用户'\r\n      this.$refs.from.validate((valid) => {\r\n        if (!valid) {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"请输入用户名和密码!\"\r\n          })\r\n          return\r\n        }\r\n        request.post(\"/user/register\", this.form).then(res => {\r\n          console.log(res);\r\n          if (this.form.password != this.form.confirm) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"两次输入的密码不相同！\"\r\n            })\r\n            return\r\n          }\r\n\r\n          if (res.code == '0') {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"注册成功\"\r\n            })\r\n            router.push(\"/login\")\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"注册失败\"\r\n            })\r\n            this.form = {} //刷新表单\r\n          }\r\n        })\r\n      })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.layout {\r\n  position: absolute;\r\n  left: calc(50% - 200px);\r\n  top: 20%;\r\n  width: 400px;\r\n}\r\n\r\n.loginForm {\r\n  text-align: center;\r\n}\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=66e0ee76&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=66e0ee76&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66e0ee76\"]])\n\nexport default __exports__"],"names":["_createElementBlock","class","style","_normalizeStyle","$props","width","height","onClick","_cache","args","$options","refreshCode","_Fragment","_renderList","$data","codeList","item","index","key","getStyle","code","name","model","prop","event","props","type","String","default","length","Number","refresh","data","watch","this","createdCode","mounted","methods","len","chars","charsLen","i","rgb","Math","round","random","push","charAt","floor","color","fontSize","padding","transform","console","log","map","join","$emit","__exports__","render","_hoisted_1","_createVNode","_component_el_tabs","_component_el_tab_pane","label","_component_el_form","ref","form","rules","_component_el_form_item","$setup","Avatar","_component_el_input","username","$event","Lock","password","confirm","_createElementVNode","_hoisted_2","validCode","placeholder","_component_ValidCode","onInput","createValidcode","_hoisted_3","_component_el_button","register","$router","components","ValidCode","required","message","trigger","setup","$refs","from","validate","valid","toLowerCase","role","request","post","then","res","$message","router","error"],"sourceRoot":""}